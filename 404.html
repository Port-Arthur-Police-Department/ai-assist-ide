<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/ai-assist-ide/icons/favicon.ico" />
    
    <script>
      (function() {
        // Clear everything
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.getRegistrations().then(function(registrations) {
            registrations.forEach(function(registration) {
              registration.unregister();
            });
          });
        }

        if ('caches' in window) {
          caches.keys().then(function(cacheNames) {
            cacheNames.forEach(function(cacheName) {
              caches.delete(cacheName);
            });
          });
        }

        // Always redirect to the main app with hash router
        var basePath = '/ai-assist-ide';
        var currentPath = window.location.pathname;
        
        // Build the new URL with hash router
        var newUrl = basePath + '/#/';
        var search = window.location.search;
        var hash = window.location.hash;
        
        if (search) newUrl += '?' + search.replace('?', '');
        if (hash && !hash.startsWith('#')) newUrl += hash;
        
        console.log('404 Redirecting to:', newUrl);
        
        // Use replace to avoid adding to history
        if (window.location.href !== newUrl) {
          window.location.replace(newUrl);
        }
      })();
    </script>
  </head>
  <body>
    <noscript>
      <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
        <h1>JavaScript Required</h1>
        <p>Please enable JavaScript to use this application.</p>
        <p><a href="/ai-assist-ide/">Click here to go to the application</a></p>
      </div>
    </noscript>
    
    <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
      <h1>Redirecting to AI-Assist-IDE...</h1>
      <p>If you are not redirected automatically, <a href="/ai-assist-ide/">click here</a>.</p>
    </div>
  </body>
</html>
